From a49eae59d512e0027eb0ef03d25e2a570670288d Mon Sep 17 00:00:00 2001
From: Ricardo Salveti de Araujo <ricardo.salveti@canonical.com>
Date: Tue, 19 Apr 2011 23:09:04 -0300
Subject: [PATCH] Fixing OuterCache definition to be compatible with the new outer_flush_range API

Signed-off-by: Ricardo Salveti de Araujo <ricardo.salveti@canonical.com>
---
 sgx/services4/srvkm/env/linux/osfunc.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/sgx/services4/srvkm/env/linux/osfunc.c b/sgx/services4/srvkm/env/linux/osfunc.c
index f3e02ed..b7b495e 100755
--- a/sgx/services4/srvkm/env/linux/osfunc.c
+++ b/sgx/services4/srvkm/env/linux/osfunc.c
@@ -43,6 +43,7 @@
 #include <linux/delay.h>
 #include <linux/pci.h>
 
+#include <linux/types.h>
 #include <linux/string.h>
 #include <linux/sched.h>
 #include <linux/interrupt.h>
@@ -2632,7 +2633,7 @@ error:
 }
 
 typedef void (*InnerCacheOp_t)(const void *pvStart, const void *pvEnd);
-typedef void (*OuterCacheOp_t)(unsigned long ulStart, unsigned long ulEnd);
+typedef void (*OuterCacheOp_t)(phys_addr_t ulStart, phys_addr_t ulEnd);
 
 #if defined(CONFIG_OUTER_CACHE)
 
-- 
1.7.4.1

