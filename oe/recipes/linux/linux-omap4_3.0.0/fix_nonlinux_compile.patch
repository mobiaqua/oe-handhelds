diff -ur old/scripts/mod/sumversion.c new/scripts/mod/sumversion.c
--- old/scripts/mod/sumversion.c	2007-02-24 00:52:30.000000000 +0100
+++ new/scripts/mod/sumversion.c	2010-06-18 17:49:46.000000000 +0200
@@ -10,6 +10,10 @@
 #include <string.h>
 #include "modpost.h"
 
+#ifndef PATH_MAX
+#define PATH_MAX 1024
+#endif
+
 /*
  * Stolen form Cryptographic API.
  *
